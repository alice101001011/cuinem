<div class="container">

  <h1>Welcome back, {{userData.username}}! This is your user profile</h2>

<div>
      <h2>Create a new recipe</h2>
  <a href="/recipes/create" type="button" class="btn btn-sm btn-outline-dark">Create new recipe</a>

  </div>

<hr>

<div class="profile-container">

  <h2>Edit profile</h2>

  <img src="" alt="{{this.username}} image">

  <p>Intro about me</p>
  
  {{!-- USERNAME EDITING --}}
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-sm btn-outline-dark" data-bs-toggle="modal" data-bs-target="#edit-username">
    Edit your user name
  </button>

  <!-- Modal -->
  <div class="modal fade" id="edit-username" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit your user name</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          


              <form action="/edit/username-update" method="POST">
                <div class="mb-3">
                    <input required type="text" class="form-control" id="title" name="title" value="{{username}}" placeholder="Enter your new user name">
                </div>
              </form>
              <button type="submit" class="btn btn-dark">Submit</button>




        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  {{!-- USERNAME EDITING --}}



  {{!-- PWD EDITING --}}
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-sm btn-outline-dark" data-bs-toggle="modal" data-bs-target="#edit-pwd">
    Edit your password
  </button>

  <!-- Modal -->
  <div class="modal fade" id="edit-pwd" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit your password</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          


              <form action="/profile/{{_id}}pwd-update" method="POST">
                <div class="mb-3">
                    <input required type="text" class="form-control" id="title" name="title" value="{{password}}" placeholder="Enter your new password">
                </div>
              </form>




        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  {{!-- PWD EDITING --}}



  {{!-- PIC EDITING --}}
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-sm btn-outline-dark" data-bs-toggle="modal" data-bs-target="#edit-pic">
    Change your profile picture
  </button>

  <!-- Modal -->
  <div class="modal fade" id="edit-pic" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Change your profile picture</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          


              <form action="/profile/{{_id}}pic-update" method="POST">
                <div class="mb-3">
                    <input required type="text" class="form-control" id="title" name="title" value="{{profilePic}}" placeholder="Choose a new profile picture">
                </div>
              </form>




        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

</div> {{!-- class"profile-container" --}}

<hr>

<h2>Your recipes</h2>

  <div class="recipe-body">
    <div class="card-grid">

        {{#each recipes}}
          <div class="card">
            <img src={{this.recipe.imageUrl}} class="card-img-top" alt={{this.label}} />
            <div class="card-body">
              <h5 class="card-title">{{this.recipe.label}}</h5>
              <p class="card-text"> {{this.recipe.description}}</p>
            </div>
            <div class="card-links">
              <div>
               <a href="/recipes/user-recipes/{{this._id}}" type="button" class="btn btn-sm btn-outline-dark">View recipe</a>
              </div>
              <div>
               <a href="/recipes/user-recipes/{{this._id}}/edit" type="button" class="btn btn-sm btn-outline-dark">Edit recipe</a>
              </div>
              <div>
                <form action="/recipes/user-recipes/{{this._id}}/delete" method="POST">
                  <button class="btn btn-sm btn-outline-dark">Delete recipe</button>
                </form>
              </div>
            </div>
          </div>
        {{/each}}
    
    </div>
  </div>

<hr>

<h2>Your favorites</h2>

  <div class="recipe-body">
    <div class="card-grid">

        {{#each favorites}}
          <div class="card">
            <img src={{this.imageUrl}} class="card-img-top" alt={{this.label}} />
            <div class="card-body">
              <h5 class="card-title">{{this.label}}</h5>
              <p class="card-text"> {{this.recipe.description}}</p>
            </div>
            <div class="card-links">
              <div>
               <a href="/recipes/user-recipes/{{this.recipeId}}" type="button" class="btn btn-sm btn-outline-dark">View recipe</a>
              </div>
        
              <div>
                <form action="/recipes/user-recipes/{{this.id}}/remove-favorite" method="POST">
                  <button class="btn btn-sm btn-outline-dark">Delete favorite</button>
                </form>
              </div>
            </div>
          </div>
        {{/each}}
    
    </div>
  </div>

<hr>
  <h2>Your reviews</h2>

  <div class="recipe-body">
    <div class="card-grid">

        {{#each reviews}}
          <div class="card">
            {{!-- <img src={{this.imageUrl}} class="card-img-top" alt={{this.label}} /> --}}
            <div class="card-body">
              <h5 class="card-title">{{this.recipeName}}</h5>
              <p class="card-text"> {{this.comment}}</p>
            </div>
            <div class="card-links">
              <div>
               <a href="/recipes/user-recipes/{{this.recipeId}}" type="button" class="btn btn-sm btn-outline-dark">View recipe</a>
              </div>
              <div>
               <a href="/reviews/{{this.id}}/edit-review" type="button" class="btn btn-sm btn-outline-dark">Edit review</a>
              </div>
              <div>
                <form action="/reviews/{{this.id}}/delete-review" method="POST">
                  <button class="btn btn-sm btn-outline-dark">Delete review</button>
                </form>
              </div>
            </div>
          </div>
        {{/each}}
    
    </div>
  </div>
</div>

{{!-- axios required script --}}
<script src="/js/login-signup-pops.js"></script>